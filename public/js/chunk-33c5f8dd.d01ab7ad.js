(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-33c5f8dd"],{"0dae":function(t,s,e){},"3aa3":function(t,s,e){"use strict";e("0dae")},8862:function(t,s,e){"use strict";e.r(s);var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"manage-bill-container",class:{"header-below":t.isPc}},[t.isLoading?e("div",{class:{"pc-loading":t.isPc,"mobile-loading":!t.isPc}},[e("a-spin",[e("a-icon",{style:{"font-size":"80px"},attrs:{slot:"indicator",type:"loading",spin:""},slot:"indicator"})],1)],1):t._e(),t.isPc&&t.selectedItem?e("div",{staticClass:"manage-bill-service-detail-box"},[e("div",{staticClass:"detail-left-box"},[e("span",{staticClass:"plan-title"},[t._v(t._s(t.selectedItem.shop_name)+" "),e("span",{staticClass:"plan-number"},[t._v("(ID:#"+t._s(t.selectedItem.shop_id)+")")])]),e("div",{staticClass:"plan-expired-date"},[e("span",{staticClass:"plan-expired-date"},[t.currentTime>t.selectedItem.expired_at?e("span",{staticStyle:{color:"red"}},[t._v(t._s(t.$t("my/service:plan.Status-3")))]):t._e(),parseInt(t.currentTime)<parseInt(t.selectedItem.expired_at)?e("span",[t._v(t._s(t.formatDate(t.selectedItem.expired_at)+" "+t.$t("my/service:plan.Countdown-1")))]):t._e()])]),e("a-button",{staticClass:"renew-btn",attrs:{type:"primary",loading:t.iconLoading},on:{click:t.goToRenew}},[t._v(" "+t._s(t.$t("my/service:plan.Button-5"))+" ")])],1),e("div",{staticClass:"card-box-bg flow-detail-box"},[e("div",{staticClass:"flow-left flow-right"},[e("span",{staticClass:"number-span"},[t._v(" "+t._s(t.selectedItem.also_traffic)),e("span",{staticClass:"unit-span"},[t._v("GB")])]),e("span",{staticClass:"sec-row"},[t._v(t._s(t.$t("my/service:plan.Text-1")))]),e("span",{staticClass:"reset-date"},[t._v(" "+t._s(t.selectedItem.reset_time)+" "+t._s(t.$t("my/service:plan.Countdown-2")))])]),e("div",{staticClass:"flow-right"},[e("span",{staticClass:"number-span"},[t._v(t._s(t.selectedItem.speed_limit?t.selectedItem.speed_limit:"∞ ")+" "),e("span",{staticClass:"unit-span"},[t._v("M")])]),e("span",{staticClass:"sec-row"},[t._v(t._s(t.$t("my/service:plan.Text-4")))]),e("span",{staticClass:"limit-device"},[t._v("限制设备 不限")])])]),e("div",{staticClass:"card-box-bg flow-detail-box bill-detail-box"},[e("div",{staticClass:"flow-left flow-right"},[e("span",{staticClass:"number-span"},[t._v(t._s(t.selectedItem.money)+" "),e("span",{staticClass:"unit-span"},[t._v("元")])]),e("span",{staticClass:"sec-row"},[t._v(t._s(t.$t("my/service:plan.Text-5")))]),e("a-button",[t._v(t._s(t.$t("my/service:bill.Text-8")))])],1)])]):t._e(),t.isPc?e("div",{staticClass:"my-bill-box"},[e("a-row",[e("a-col",{attrs:{span:8}},[e("span",{staticClass:"title"},[t._v(t._s(t.$t("my/service:bill.Text-1")))])]),e("a-col",{staticStyle:{float:"right"}},[e("a-button",{staticClass:"renew-btn",attrs:{type:"primary",disabled:!t.prepaidPlan},on:{click:function(s){return t.showConfirm(t.item)}}},[t._v(" "+t._s(t.$t("my/service:bill.Button-3"))+" ")])],1)],1),e("a-divider",{staticStyle:{"background-color":"#E5E9ED"}}),e("div",{staticClass:"header-row"},[e("span",{staticClass:"header-item"},[t._v(t._s(t.$t("my/service:bill.Text-2")))]),e("div",{staticClass:"header-item span-cursor"},[e("div",{staticClass:"type-group"},[e("div",{staticClass:"type-title-row"},[e("span",[t._v(t._s(t.$t("my/service:bill.Text-3")))]),e("i",{staticClass:"type-normal",class:{"type-checked":t.status.length>0}})])])]),e("div",{staticClass:"header-item span-cursor"},[e("div",{staticClass:"date-group"},[e("div",{staticClass:"type-title-row"},[e("span",[t._v(t._s(t.$t("my/service:bill.Text-4")))]),e("i",{staticClass:"type-normal",class:{"type-checked":t.status.length>0}})])])]),e("div",{staticClass:"header-item span-cursor"},[e("div",{staticClass:"date-group"},[e("div",{staticClass:"type-title-row"},[e("span",[t._v(t._s(t.$t("my/service:bill.Text-11")))]),e("i",{staticClass:"type-normal",class:{"type-checked":t.status.length>0}})])])]),e("div",{staticClass:"header-item span-cursor",staticStyle:{width:"10%"}},[e("span",[t._v(t._s(t.$t("my/service:bill.Text-5")))]),e("div",{staticClass:"right-up-down"},[e("i",{staticClass:"up-i",class:{"up-blue-i":"EffectiveDateTime"===t.sortBy&&"Asc"===t.sortType}}),e("i",{staticClass:"down-i",class:{"down-blue-i":"EffectiveDateTime"===t.sortBy&&"Desc"===t.sortType}})])]),e("div",{staticClass:"header-item span-cursor",staticStyle:{width:"10%"}},[e("div",{staticClass:"type-group"},[e("div",{staticClass:"type-title-row"},[e("span",[t._v(t._s(t.$t("my/service:bill.Text-6")))]),e("i",{staticClass:"type-normal",class:{"type-checked":t.status.length>0}})])])]),e("span",{staticStyle:{"text-align":"right",width:"10%"}},[t._v(t._s(t.$t("my/service:bill.Text-7")))])]),e("a-divider",{staticStyle:{"background-color":"#E5E9ED","margin-bottom":"0px"}}),t.loading?e("div",{staticClass:"loading"},[e("a-spin",[e("a-icon",{style:{"font-size":"80px"},attrs:{slot:"indicator",type:"loading",spin:""},slot:"indicator"})],1)],1):t._e(),t._l(t.billList,(function(s,a){return e("div",{key:a,staticClass:"header-row item-row"},[e("span",{staticClass:"header-item"},[t._v(t._s(s.sn))]),e("span",{staticClass:"header-item"},[t._v(t._s(s.goods.name))]),e("span",{staticClass:"header-item"},[t._v(t._s(s.created_at))]),e("span",{staticClass:"header-item"},[t._v(t._s(s.expired_at))]),e("span",{staticClass:"header-item",staticStyle:{width:"10%"}},[t._v(t._s(s.origin_amount)+" 元")]),e("span",{staticClass:"header-item",staticStyle:{width:"10%"},domProps:{innerHTML:t._s(s.status_label)}}),s.status>-1?e("div",{staticStyle:{"text-align":"right",width:"10%"}},[0===s.status?e("span",{staticClass:"last-span pay-span",on:{click:function(e){return t.payOrCheckInvoice(s)}}},[t._v(" "+t._s(t.$t("my/service:bill.Button-1"))+" ")]):1===s.status||2===s.status&&0===s.is_expire?e("span",{staticClass:"last-span pay-span",on:{click:function(e){return t.payOrCheckInvoice(s)}}},[t._v(" "+t._s(t.$t("my/service:bill.Button-2"))+" ")]):t._e()]):t._e()])})),t.loading||0!==t.billList.length?e("div",{staticStyle:{"margin-top":"0.1rem",float:"right"}},[e("a-pagination",{attrs:{total:t.total,"show-less-items":""},on:{change:t.changePage},model:{value:t.current,callback:function(s){t.current=s},expression:"current"}})],1):e("div",{staticClass:"empty-data"},[t._v("沒有账单")])],2):t._e(),!t.isPc&&t.selectedItem?e("div",{staticClass:"manage-bill-service-detail-box-mobile"},[e("span",{staticClass:"plan-title"},[t._v(t._s(t.selectedItem.shop_name)+" "),e("span",{staticClass:"plan-number"},[t._v("(ID:#"+t._s(t.selectedItem.shop_id)+")")])]),e("div",{staticClass:"plan-expired-date"},[t.currentTime>parseInt(t.selectedItem.expired_at)?e("span",{staticStyle:{color:"red"}},[t._v("已过期")]):t._e(),parseInt(t.currentTime)<parseInt(t.selectedItem.expired_at)?e("span",[t._v(t._s(t.formatDate(t.selectedItem.expired_at)+" 到期"))]):t._e()]),e("a-button",{staticClass:"renew-btn",attrs:{type:"primary",loading:t.iconLoading},on:{click:t.goToRenew}},[t._v(t._s(t.checkExpired?"立即续费":"提前续费")+" ")]),e("div",{staticClass:"card-box-bg flow-detail-box"},[e("div",{staticClass:"flow-left"},[e("span",{staticClass:"number-span"},[t._v(t._s(t.selectedItem.also_traffic)+" "),e("span",{staticClass:"unit-span"},[t._v("GB")])]),e("span",{staticClass:"sec-row"},[t._v("剩余流量")]),e("span",{staticClass:"reset-date"},[t._v(t._s(t.selectedItem.reset_time)+" 重置")])]),e("div",{staticClass:"flow-left flow-right"},[e("span",{staticClass:"number-span"},[t._v(t._s(t.selectedItem.speed_limit?t.selectedItem.speed_limit:"∞ ")+" "),e("span",{staticClass:"unit-span"},[t._v("M")])]),e("span",{staticClass:"sec-row"},[t._v("当前限速")]),e("span",{staticClass:"limit-device"},[t._v("限制设备 不限")])])]),e("div",{staticClass:"card-box-bg flow-detail-box bill-detail-box"},[e("div",{staticClass:"flow-left",staticStyle:{width:"100%"}},[e("span",{staticClass:"number-span"},[t._v(t._s(t.selectedItem.money)+" "),e("span",{staticClass:"unit-span"},[t._v("元")])]),e("span",{staticClass:"sec-row"},[t._v("下次续费")]),e("span",{staticClass:"reset-date"},[t._v(t._s(t.selectedItem.expired_at))])])])],1):t._e(),t.isPc?t._e():e("div",{staticClass:"my-bill-box-mobile"},[e("span",{staticClass:"title"},[t._v("我的账单")]),t._l(t.billList,(function(s,a){return e("div",{key:a,staticClass:"item-row-box"},[e("div",{staticClass:"first-row"},[e("div",{staticClass:"first-row-left"},[e("span",{staticClass:"left-top-span"},[t._v(t._s(t.payStatus[s.status]))]),e("span",{staticClass:"left-bottom-span"},[t._v(t._s(s.origin_amount)),e("span",{staticClass:"left-bottom-unit"},[t._v("元")])])]),s.status>-1?e("span",{staticClass:"unpay-span",class:{"pay-span":"Paid"!==s.status},on:{click:function(e){return t.payOrCheckInvoice(s)}}},[t._v(t._s("Paid"===s.status?"查看":"支付"))]):t._e()]),e("a-divider",{staticClass:"divider-line"}),e("div",{staticClass:"sec-row"},[e("span",{staticClass:"row-left"},[t._v("账单编号")]),e("span",{staticClass:"row-right"},[t._v(t._s(s.sn))])]),e("div",{staticClass:"sec-row"},[e("span",{staticClass:"row-left"},[t._v("商品名称")]),e("span",{staticClass:"row-right"},[t._v(t._s(s.goods.name))])]),e("div",{staticClass:"sec-row"},[e("span",{staticClass:"row-left"},[t._v("生成日期")]),e("span",{staticClass:"row-right"},[t._v(t._s(s.created_at))])])],1)})),t.loading||0!==t.billList.length?t._e():e("div",{staticClass:"empty-data"},[t._v("沒有账单")])],2)])},i=[],l=e("bca7"),c={name:"ManageBill",data:function(){return{isLoading:!0,isPc:this.isPc(),sortType:"",sortBy:"",billList:[],status:[],statusList:[{type:"全部",ischecked:!1},{type:"开启",status:"Active",ischecked:!1},{type:"停用",status:"Inactive",ischecked:!1}],payMethods:[],payMethodsList:[{key:"全部",ischecked:!1},{key:"支付寶",value:"alipay",ischecked:!1},{key:"微信支付",value:"wepay",ischecked:!1},{key:"银联卡",value:"union",ischecked:!1},{key:"信用卡",value:"visa",ischecked:!1},{key:"PayPal",value:"paypal",ischecked:!1},{key:"加密貨幣",value:"coin",ischecked:!1}],payStatus:{"-1":"已关闭",0:"待支付",1:"已支付",2:"已完成"},payStatusList:[{key:"全部",ischecked:!1},{key:"已支付",status:"paid",ischecked:!1},{key:"待支付",status:"unpaid",ischecked:!1}],showMsg:!1,selectedItem:{},trafficArray:[{trafficLimit:"∞",speedLimit:"∞",isAddon:!1,sessionLimit:"∞"}],speedArray:["速度","∞","","","",""],currentTime:(new Date).getTime(),lang:this.$i18n.locale,loading:!0,selectedService:localStorage.getItem(l["AU_SELECTED_SERVICE"])?JSON.parse(localStorage.getItem(l["AU_SELECTED_SERVICE"])):{},iconLoading:!1,selectedId:0,current:1,total:100,prepaidPlan:!1}},created:function(){this.getMoreData()},mounted:function(){this.selectedId=this.$route.params.serviceId},methods:{changePage:function(t){var s=this;s.billList=[],s.loading=!0,this.request.getAllInvoices({page:t}).then((function(t){s.loading=!1,1===t.code&&(s.billList=t.data.data,s.current=t.data.current_page,s.total=t.data.total)}))},getMoreData:function(){this.getServiceInfo();var t=this;t.isLoading=!1,this.request.getAllInvoices({}).then((function(s){t.loading=!1,1===s.code&&(t.billList=s.data.orderList.data,t.current=s.data.orderList.current_page,t.total=s.data.orderList.total,t.prepaidPlan=s.data.prepaidPlan)}))},checkExpired:function(){return void 0!==this.selectedItem.expired_at&&parseInt(this.selectedItem.expired_at)-this.currentTime<=604800},showConfirm:function(t){var s=this;s.$confirm({title:s.$t("my/service:bill.Text-9"),content:s.$t("my/service:bill.Text-10"),okText:"确认",cancelText:"取消",onOk:function(){s.request.activePrepaid().then((function(t){1===t.code?(s.$message.success(t.msg),setTimeout((function(){window.location.reload()}),1500)):s.$message.error(t.msg)}))},onCancel:function(){}})},payOrCheckInvoice:function(t){if(this.isPc){var s=this.$router.resolve({path:"user/invoice/:invoiceId",name:"invoiceDetail",params:{invoiceId:t.id}});window.open(s.href,this.$inApp?"_self":"_blank")}else this.$router.push({path:"user/invoice/:invoiceId",name:"invoiceDetail",params:{invoiceId:t.id},query:this.$route.query})},goToRenew:function(){this.iconLoading=!0;var t=this;t.$router.push({path:"/order/place"})},formatDate:function(t){var s=new Date(t),e=s.getFullYear(),a=s.getMonth()+1;a=a<10?"0"+a:a;var i=s.getDate();return i=i<10?"0"+i:i,e+"-"+a+"-"+i},getServiceInfo:function(){this.trafficArray=[{trafficLimit:"0",speedLimit:0,isAddon:!1,sessionLimit:"∞"}],this.speedArray=["速度","","","","",""];var t=this;this.request.getAllServices().then((function(s){1===s.code?t.selectedItem=s.data:t.infoError=!0}))},fraudOrder:function(){this.request.auFraudOrder("","",(function(t){console.log(t)}))}}},n=c,r=(e("3aa3"),e("4ac2")),o=Object(r["a"])(n,a,i,!1,null,null,null);s["default"]=o.exports}}]);
//# sourceMappingURL=chunk-33c5f8dd.d01ab7ad.js.map